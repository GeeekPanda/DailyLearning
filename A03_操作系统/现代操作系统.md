计算机=CPU+内存+IO设备

操作系统的作用：
- 提供抽象。隐藏计算机硬件的复杂细节，为用户提供更清晰更简单的计算机模型。
- 管理资源。在相互竞争的程序之间有序的控制对CPU、内存、iO设备的分配。

shell与GUI并非操作系统的一部分，而是工作在用户态的软件，它们仅能运行机器指令中的一个子集。而真正的操作系统工作在内核态，具有对硬件的完全访问权，可以执行机器能够运行的任何指令。

计算机硬件简介：
- CPU：作用是从内存中取出指令并执行（取指、解码、执行）。每种CPU有自己可执行的指令集，目前主要有CISC（复杂指令集）和RISC（精简指令集）两种。x86结构采用复杂指令集，效率高性能强功耗高；ARM架构采用精简指令集，特点是功耗低。从内存中取指令要比执行指令花费的时间长得多，所以CPU内部有一些用来保存关键变量和临时数据的**通用寄存器**。除此之外，还有一些专用寄存器，如**程序计数器**用以保存将要取出的下一条指令的内存地址；**堆栈指针**指向内存中当前栈的顶端；**程序状态字**控制着CPU的工作模式（内核态和用户态）、CPU优先级等等控制位。
    > 程序状态字PSW中的一个二进制位控制着CPU的两种工作模式。内核态下，CPU可以执行指令集中的每一条指令，并且使用硬件的每种功能。而用户态下，仅允许指行指令集的一个子集和访问所有功能的一个子集。一般，在用户态中有关IO和内存保护的所有指令都是被禁止的，当然将PSW中的模式位设置为内核态也是禁止的。
    为了使用操作系统提供的服务，用户程序必须使用系统调用以陷入内核。TRAP指令将用户态切换为内核态，并启用操作系统。

- 内存：计算机的存储系统采用分层次结构。寄存器-高速缓存-主内存-磁盘。容量越来越大，速度越来越慢。

